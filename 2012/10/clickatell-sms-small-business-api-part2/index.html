<!DOCTYPE html>
<html>

<head>
    <script data-ad-client="ca-pub-7253926757222509" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FP3DVRSXN0"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FP3DVRSXN0');
    </script>
    <meta charset="utf-8">
    
    <title>
        
        How to integrate Clickatell&#39;s SMS Small Business API into a .NET application |
        
        Jon Gallant
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="reviews" />
    
    <meta name="description" content="This is the second post in a two part series on integrating SMS functionality into an application. In the first post, “A high-level look into Clickatell’s new SMS Small Business API”, I focused on th">
<meta property="og:type" content="article">
<meta property="og:title" content="How to integrate Clickatell&#39;s SMS Small Business API into a .NET application">
<meta property="og:url" content="https://blog.jongallant.com/2012/10/clickatell-sms-small-business-api-part2/index.html">
<meta property="og:site_name" content="Jon Gallant">
<meta property="og:description" content="This is the second post in a two part series on integrating SMS functionality into an application. In the first post, “A high-level look into Clickatell’s new SMS Small Business API”, I focused on th">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://blog.jongallant.com/images/logo_thumb_1024.png">
<meta property="article:published_time" content="2012-11-01T01:47:00.000Z">
<meta property="article:modified_time" content="2021-02-21T01:58:12.758Z">
<meta property="article:author" content="Jon Gallant">
<meta property="article:tag" content="reviews">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.jongallant.com/images/logo_thumb_1024.png">
<meta name="twitter:creator" content="@jongallant">
    

    
    <link rel="alternate" href="http://feeds.feedburner.com/jongallant" title="Jon Gallant"
        type="application/atom+xml" />
    

    
    <link rel="icon" href="/favicon.ico" />
    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">


    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="//fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    
<link rel="stylesheet" href="/css/style.css">


    
<script src="/libs/jquery/2.0.3/jquery.min.js"></script>

    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        <script type="text/javascript">
    (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-1148981-8', 'auto');
    ga('send', 'pageview');

</script>
    
    


    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/zenburn.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <div id="wrap">
        <header id="header">
  <div id="header-outer" class="outer">
    <div class="container">
      <div class="container-inner">
        <div id="header-title">
          <h1 class="logo-wrap">
            <a href="/" class="logo"></a>
          </h1>
          
        </div>
        <div id="header-inner" class="nav-container">
          <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
          <div class="nav-container-inner">
            <ul id="main-nav">
              
              <li class="main-nav-list-item">
                <a
                  class="main-nav-list-link"
                  href="/"
                  >Home</a
                >
              </li>
               <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Leadership/">Leadership</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Leadership/Career-Model/">Career Model</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Leadership/Proactive-Mentorship/">Proactive Mentorship</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Leadership/Productivity/">Productivity</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Leadership/Review-Model/">Review Model</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Leadership/Work-Life-Balance/">Work:Life Balance</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Reviews/">Reviews</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/">Tech</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/3D-Printing/">3D Printing</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Announcements/">Announcements</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Azure/">Azure</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Bugs/">Bugs</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Career/">Career</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Conferences/">Conferences</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Gaming/">Gaming</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/IoT/">IoT</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Jobs/">Jobs</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Microsoft/">Microsoft</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Power-BI/">Power BI</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Reviews/">Reviews</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Story/">Story</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Tips/">Tips</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Tutorials/">Tutorials</a></li></ul></li></ul> 
              <li class="main-nav-list-item">
                <a
                  class="main-nav-list-link"
                  href="/archives/"
                  >Archive</a
                >
              </li>
              
              <li class="main-nav-list-item">
                <a
                  class="main-nav-list-link"
                  href="/videos/"
                  >Videos</a
                >
              </li>
              
              <li class="main-nav-list-item">
                <a
                  class="main-nav-list-link"
                  href="/contact/"
                  >Contact</a
                >
              </li>
              
            </ul>
            <nav id="sub-nav">
                <script async src="https://cse.google.com/cse.js?cx=partner-pub-7253926757222509:9158994875"></script>
                <div class="gcse-searchbox-only"></div>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/category/Tech/">Tech</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/category/Tech/Tutorials/">Tutorials</a>
    </h1>
</div>

                        
                        <div class="main-body-content">
                            <div class="banner-ad">
                                <!-- banner -->
                                <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7253926757222509"
                                    data-ad-slot="8838481977" data-ad-format="auto" data-full-width-responsive="true"></ins>
                                <script>
                                    (adsbygoogle = window.adsbygoogle || []).push({});
                                </script>
                            </div>
                            <article id="post-clickatell-sms-small-business-api-part2" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        How to integrate Clickatell&#39;s SMS Small Business API into a .NET application
        </h1>
    

            </header>
        
        
            <div class="article-subtitle">
                
<a href="/2012/10/clickatell-sms-small-business-api-part2/" class="article-date">
    <time datetime="2012-11-01T01:47:00.000Z" itemprop="datePublished">2012-11-01</time>
</a>

                
    <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/reviews/" rel="tag">reviews</a></li></ul>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <blockquote>
<p>This is the second post in a two part series on integrating SMS functionality into an application. In the first post, “<a href="/2012/11/clickatell-sms-small-business-api-part1.html">A high-level look into Clickatell’s new SMS Small Business API</a>”, I focused on the analysis I did into Clickatell’s Small Business API. This post focuses on the options available and technical details for integrating the API into your application.</p>
</blockquote>
<hr>
<p>There are many options available for integrating <a href="http://americas.clickatell.com/solutions/small-business-api/" target="_blank" rel="noopener">Clickatell’s Small Business API</a> into your application and Clickatell’s <a href="http://www.clickatell.com/apis-scripts/" target="_blank" rel="noopener">APIs &amp; Scripts</a> page has all the info you need to get started. All of the specifications for all the protocols are available on their “<a href="http://www.clickatell.com/help-support/developers-central/" target="_blank" rel="noopener">Developer’s Central</a>” page.<br>
The protocols available are: HTTP/S, XML, SOAP and COM object. There are other protocols listed on that page, like FTP and SMTP, but they don’t apply to the Small Business API. They have sample scripts available for PhP, VBScript, C#, <a href="http://VB.NET" target="_blank" rel="noopener">VB.NET</a>, Cold Fusion and Oracle and there are third party libraries available for Java, Perl, Ruby and Applescript.</p>
<h1>WHAT PROTOCOLS ARE AVAILABLE?</h1>
<h3 id="HTTP"><a class="header-anchor" href="#HTTP"></a>HTTP:</h3>
<p>The HTTP option is pretty straightforward. Just pass your api_id, user, password, to and text to the /http/sendmsg endpoint and it will return a status and guid for the message.</p>
<pre><code class="hljs plain">http:&#x2F;&#x2F;api.clickatell.com&#x2F;http&#x2F;sendmsg?api_id&#x3D;xxxx&amp;user&#x3D;xxxx&amp;password&#x3D;xxxx&amp;to&#x3D;xxxx&amp;text&#x3D;xxxx</code></pre>
<h3 id="XML"><a class="header-anchor" href="#XML"></a>XML:</h3>
<p>This is very similar to the HTTP endpoint, but instead of passing the data as individual querystring parameters you pass one “data” parameter with xml.<br>
The only reason I’d want to use XML instead of HTTP is if I have some client serialization code that already spits out XML. Otherwise, HTTP is more intuitive and requires less bandwidth.</p>
<pre><code class="hljs plain">http:&#x2F;&#x2F;api.clickatell.com&#x2F;xml&#x2F;xml?data&#x3D;&lt;clickAPI&gt;&lt;sendMsg&gt;&lt;api_id&gt;1&lt;&#x2F;api_id&gt;&lt;user&gt;demo&lt;&#x2F;user&gt;&lt;password&gt;demo&lt;&#x2F;password&gt;&lt;to&gt;448311234567&lt;&#x2F;to&gt;&lt;text&gt;Meet me outside&lt;&#x2F;text&gt;&lt;from&gt;me&lt;&#x2F;from&gt;&lt;&#x2F;sendMsg&gt;&lt;&#x2F;clickAPI&gt;</code></pre>
<h3 id="SOAP"><a class="header-anchor" href="#SOAP"></a>SOAP:</h3>
<p>It looks complex, but this message is dynamically generated from the WSDL proxy.</p>
 <pre><code class="hljs xml"> <span class="hljs-meta">&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">SOAP-ENV:Envelope</span> <span class="hljs-attr">SOAP-ENV:encodingStyle</span>=<span class="hljs-string">"http://schemas.xmlsoap.org/soap/encoding/"</span> <span class="hljs-attr">xmlns:SOAP-ENV</span>=<span class="hljs-string">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="hljs-attr">xmlns:xsd</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="hljs-attr">xmlns:SOAP-ENC</span>=<span class="hljs-string">"http://schemas.xmlsoap.org/soap/encoding/"</span> <span class="hljs-attr">xmlns:tns</span>=<span class="hljs-string">"soap.clickatell.com"</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">SOAP-ENV:Body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">tns:sendmsg</span> <span class="hljs-attr">xmlns:tns</span>=<span class="hljs-string">"soap.clickatell.com"</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">session_id</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:string"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">api_id</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:int"</span>&gt;</span>1234<span class="hljs-tag">&lt;/<span class="hljs-name">api_id</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">user</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:string"</span>&gt;</span>demo<span class="hljs-tag">&lt;/<span class="hljs-name">user</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">password</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:string"</span>&gt;</span>demo<span class="hljs-tag">&lt;/<span class="hljs-name">password</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">to</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"SOAP-ENC:Array"</span> <span class="hljs-attr">SOAP-ENC:arrayType</span>=<span class="hljs-string">"xsd:string[2]"</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:string"</span>&gt;</span>2799912345<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:string"</span>&gt;</span>27999123134<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">to</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">from</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:string"</span>&gt;</span>me<span class="hljs-tag">&lt;/<span class="hljs-name">from</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:string"</span>&gt;</span>Initial test message<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">concat</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:int"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">deliv_ack</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:int"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">callback</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:int"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">deliv_time</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:int"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">max_credits</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:float"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">req_feat</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:int"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">queue</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:int"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">escalate</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:int"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">mo</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:int"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">cliMsgId</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:string"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">unicode</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:int"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">msg_type</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:string"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">udh</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:string"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">data</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:string"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">validity</span> <span class="hljs-attr">xsi:nil</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"xsd:int"</span>/&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">tns:sendmsg</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">SOAP-ENV:Body</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">SOAP-ENV:Envelope</span>&gt;</span></code></pre>
<h3 id="COM"><a class="header-anchor" href="#COM"></a>COM:</h3>
<p>The COM option will be a good one to choose if you have legacy software that runs in a COM world. You could obviously get it to work with modern technologies, but you still have DLL HELL to consider. You have to register the DLL, create an INTEROP and go from there. I haven’t looked at COM in so long, but I still have nightmares about it.</p>
<pre><code class="hljs plain">oSMS.SendSimpleSMS API_ID, &quot;username&quot;, &quot;password&quot;, &quot;278…&quot;, &quot;My first SMS&quot;</code></pre>
<h1>WHICH PROTOCOL SHOULD I CHOOSE?</h1>
<p>If you are using Java, Perl, Ruby or Applescript then the clear winner is to use one of the 3<sup>rd</sup> party libraries that you can find on the <a href="http://www.clickatell.com/apis-scripts/scripts/" target="_blank" rel="noopener">Scripts</a> page.<br>
Nothing for .NET. Yes, they do have examples on how one would call their API using C#, but that is just code to issue a WebRequest.<br>
My recommendation for Clickatell is to create a .NET library and get it up on NuGet.<br>
So, as it stands right now, if you are using .NET then you are left with these options:</p>
<ol>
<li>HTTP or XML  <li>Write your own .NET 3<sup>rd</sup> Party Library  <li>COM  <li>SOAP</li>
</ol>
<h3 id="HTTP-or-XML"><a class="header-anchor" href="#HTTP-or-XML"></a>HTTP or XML</h3>
<p>If you use HTTP or XML then you have to write your own code to process the response. Yes, Clickatell did a nice job telling you what all the responses would be in their <a href="http://www.clickatell.com/downloads/http/Clickatell_HTTP.pdf" target="_blank" rel="noopener">HTTP</a> and <a href="http://www.clickatell.com/downloads/xml/Clickatell_XML.pdf" target="_blank" rel="noopener">XML</a> documentation, but you are probably like me and don’t have the time to write the code to process all the responses. Here’s what a typical response looks like:<br>
<img src="/images/blog/How-to-integrate-Clickat.NET-application_1267/image.png" alt=""><br>
If you just need a very simple “fire and forget” SMS notification implementation and don’t care if it fails or succeeds then this is the best way to go. This is also a great option if you want to create an SMS from script. My recommendation for Clickatell on this one is to at least return the response as JSON so they are easily consumable from script.</p>
<h3 id="WRITE-YOUR-OWN-NET-3-sup-RD-sup-PARTY-LIBRARY"><a class="header-anchor" href="#WRITE-YOUR-OWN-NET-3-sup-RD-sup-PARTY-LIBRARY"></a>WRITE YOUR OWN .NET 3<sup>RD</sup> PARTY LIBRARY</h3>
<p>Just like the HTTP or XML option you are left to write a ton of code to wrap one of the protocols. This would be a big undertaking…more than I would expect any of my readers to implement. If you do decide to go this route, then start copying from the <a href="http://smsj.sourceforge.net/" target="_blank" rel="noopener">Java</a> 3<sup>rd</sup> party library.</p>
<h3 id="COM-v2"><a class="header-anchor" href="#COM-v2"></a>COM</h3>
<p>Like most of you out there I got bit by COM in the late 90s so I try to avoid it like the plague. But, if that is your preference then go for it. Just be warned that you’ll need to be concerned with DLL registration and trust levels. The DLL might require full trust, something that isn’t supported in most shared hosting environments.<br>
They provide an MSI that installs the DLLs for you, but again installing an MSI in a shared hosting environment probably isn’t supported.</p>
<h3 id="SOAP-v2"><a class="header-anchor" href="#SOAP-v2"></a>SOAP</h3>
<p>It’s heavy, big and complex, but given all the other options currently available I think SOAP is probably the best option for .NET developers, because…<br>
1. You can create a proxy that behaves like your own 3<sup>rd</sup> party library<br>
2. You don’t have to write an HTTP endpoint wrapper WebRequest code<br>
3. You don’t have to deal with COM and DLL hell.<br>
You still have to process all the response codes, but you’ll have to do that with any of the options.</p>
<h1>How to USE THE SOAP ENDPOINT IN A .NET APPLICATION</h1>
<p>1. Open your app and add a service reference<br>
<img src="/images/blog/How-to-integrate-Clickat.NET-application_1267/image_3.png" alt=""><br>
2. Enter the Clickatell SOAP URL<br>
<a href="http://api.clickatell.com/soap/webservice.php?WSDL" target="_blank" rel="noopener">http://api.clickatell.com/soap/webservice.php?WSDL</a><br>
<img src="/images/blog/How-to-integrate-Clickat.NET-application_1267/image_4.png" alt=""><br>
3. Click “Go”. Enter a Namespace and click OK.<br>
That will generate your C# proxy and give you a class called PushServerWSPortTypeClient. You’ll use this class for all your SMS needs.<br>
<img src="/images/blog/How-to-integrate-Clickat.NET-application_1267/image_5.png" alt=""></p>
<p>4. Add a using statement: (This will be different for your app)</p>
<pre><code class="hljs plain">using ClickatellSample.Console.ClickatellProxy;</code></pre>
<p>5. Instaniate a new PushServerWSPortTypeClient class:</p>
<pre><code class="hljs plain">var client &#x3D; new PushServerWSPortTypeClient();</code></pre>
<p>6. Call the auth method to get a session Id;</p>
<pre><code class="hljs plain">var authResponse &#x3D; client.auth([app_id], &quot;[username]&quot;, &quot;[password]&quot;); 
if (!string.IsNullOrWhiteSpace(authResponse)

&amp;&amp; authResponse.StartsWith(&quot;OK&quot;))

&#123;

&#x2F;&#x2F;authResponse &#x3D; &quot;OK: [sessionId]&quot;

&#x2F;&#x2F;authResponse is prefixed with an OK status code and then the sessionId so you need to parse it out

var colonIndex &#x3D; authResponse.IndexOf(&quot;:&quot;, StringComparison.Ordinal);

if (colonIndex !&#x3D; -1)

&#123;

var sessionId &#x3D; authResponse.Substring(colonIndex + 2); &#x2F;&#x2F; Add two to trim the colon and the space after it &quot;: &quot;</code></pre>
<p>7. Call the sendmsg method to send the SMS.</p>
<pre><code class="hljs plain">var responses &#x3D; client.sendmsg( 
sessionId, [app_id],&quot;[username]&quot;,&quot;[password]&quot;, new string[] &#123; &quot;[to]&quot; &#125;,&quot;[from]&quot;,&quot;Test SMS&quot;,

0,0,0,0,0,0,0,0,0,string.Empty,0,string.Empty,string.Empty,string.Empty,0);

foreach (var response in responses)

&#123;

&#x2F;&#x2F;response &#x3D; &quot;ID: [unique id of sms]&quot;

System.Console.WriteLine(response);

&#125;</code></pre>
<p>Here’s the complete code sample:</p>
<pre><code class="hljs plain">var client &#x3D; new PushServerWSPortTypeClient(); 
var authResponse &#x3D; client.auth(123456, &quot;[username]&quot;, &quot;[password]);

if (!string.IsNullOrWhiteSpace(authResponse) &amp;&amp; authResponse.StartsWith(&quot;OK&quot;))

&#123;

&#x2F;&#x2F;authResponse &#x3D; &quot;OK: [sessionId]&quot; 

&#x2F;&#x2F;authResponse is prefixed with an OK status code and then the sessionId so you need to parse it out 

var colonIndex &#x3D; authResponse.IndexOf(&quot;:&quot;, StringComparison.Ordinal); 

if (colonIndex !&#x3D; -1) 

&#123; 

    var sessionId &#x3D; authResponse.Substring(colonIndex + 2); &#x2F;&#x2F; Add two to trim the colon and the space after it &quot;: &quot; 

    System.Console.WriteLine(sessionId); 

    var responses &#x3D; client.sendmsg( 

        sessionId, 123456, &quot;[username]&quot;, &quot;[password]&quot;, new string[] &#123; &quot;[to]&quot; &#125;,&quot;[from]&quot;,&quot;Test SMS&quot;, 

        0,0,0,0,0,0,0,0,0,string.Empty,0,string.Empty,string.Empty,string.Empty,0); 

    foreach (var response in responses) 

    &#123; 

        &#x2F;&#x2F;response &#x3D; &quot;ID: [unique id of sms]&quot; 

        System.Console.WriteLine(response); 

    &#125; 

&#125; 
&#125;</code></pre>
<h1>FINAL THOUGHTS</h1>
<p>Clickatell’s Small Business API is great if you want to integrate simple SMS functionality into your application. A simple HTTP request is all you need to send an SMS.</p>
<p>They are behind the times when it comes to integrating SMS into a .NET application, but you can get HTTP/XML to work with WebRequest or you can create proxies to the COM or SOAP endpoints. I found out through using the endpoints that all of them require you to parse the response, i.e. “OK: [sessionId]”. This is obviously the result of the service being around for a very long time because modern day HTTP endpoints would return a JSON response that looks something like this “{status:‘ok’, sessionId:’[sessionId]}” and the SOAP endpoint would return a strongly typed object. This leaves a lot of work for developers because we have to account for every possible response and parse it appropriately. I was hoping the SOAP endpoint would deal with that for me, but it doesn’t.</p>
<p>Here’s what I recommend they do to make their service more appealing to .NET developers.</p>
<ol>
<li>Create a .NET library<li>Put that library up on NuGet so it is easy to install and update<li>Parse all the response messages into strongly typed objects and enums.<li>Simplify the API. As you can see in my sample above the “sendmsg” method takes 22 parameters, all but 3 are optional.</li>
</ol>
<p>I hope this SMS series gave you the information you need to get started with integrating SMS into your application and saved you some time.</p>
<p>Jon</p>

        </div>
        <footer>
        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>


                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar">
        <i class="toggle icon"></i>
    </a>
    <div class="sidebar-top">

        <ul class="social-links">
            
            
            <li>
                <a class="social-tooltip" title="twitter" href="http://twitter.com/jongallant"
                    target="_blank">
                    <i class="icon fa fa-twitter"></i>
                </a>
            </li>
            
            
            
            <li>
                <a class="social-tooltip" title="github" href="https://github.com/jongio"
                    target="_blank">
                    <i class="icon fa fa-github"></i>
                </a>
            </li>
            
            
            
            <li>
                <a class="social-tooltip" title="rss" href="http://feeds.feedburner.com/jongallant"
                    target="_blank">
                    <i class="icon fa fa-rss"></i>
                </a>
            </li>
            
            
            
            <li>
                <a class="social-tooltip" title="linkedin" href="http://www.linkedin.com/in/jongallant"
                    target="_blank">
                    <i class="icon fa fa-linkedin"></i>
                </a>
            </li>
            
            
            
            <li>
                <a class="social-tooltip" title="youtube" href="https://www.youtube.com/jongallant"
                    target="_blank">
                    <i class="icon fa fa-youtube"></i>
                </a>
            </li>
            
            
        </ul>
    </div>
    
    
    <nav id="article-nav">
        
            <a href="/2012/11/build2012-speakers/" id="article-nav-newer" class="article-nav-link-wrap">
                <strong class="article-nav-caption">
                    newer
                </strong>
                <p class="article-nav-title">
                    
                        Build 2012 Speaker Blogs, Twitter, Facebook, Google+ &amp; LinkedIn Accounts
                            
                </p>
                <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>

            </a>
            
                
                    <a href="/2012/10/clickatell-sms-small-business-api-part1/" id="article-nav-older" class="article-nav-link-wrap">
                        <strong class="article-nav-caption">
                            older
                        </strong>
                        <p class="article-nav-title">
                            A High-Level Look into Clickatell&#39;s New SMS Small Business API
                        </p>
                        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>

                    </a>
                    
    </nav>
    
    

    <div class="widgets-container">
        
        
        <br/>
<div style="position:relative;height:0;padding-bottom:56.25%"><iframe src="https://www.youtube.com/embed/videoseries?list=PLiMIJTv6gK5_Zmdcmbo-kxAbpeGjSou9x&amp;showinfo=0?ecver=2" width="640" height="360" frameborder="0" gesture="media" allow="encrypted-media" style="position:absolute;width:100%;height:100%;left:0" allowfullscreen></iframe></div>
<br/>
        
        <div class="github-card" data-github="jongio" data-width="340" data-height="150" data-theme="default"></div>
<script src="//cdn.jsdelivr.net/github-cards/latest/widget.js"></script>
        
        <a class="twitter-timeline" data-height="700" href="https://twitter.com/jongallant?ref_src=twsrc%5Etfw" target="_blank" rel="noopener"></a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
        
        
        <div class="rail-ad">
            <!-- rail -->
            <ins class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-7253926757222509"
            data-ad-slot="7222147978"
            data-ad-format="auto"
            data-full-width-responsive="true"></ins>
            <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script>

            <!-- 2nd rail -->
            <ins class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-7253926757222509"
            data-ad-slot="1523952970"
            data-ad-format="auto"
            data-full-width-responsive="true"></ins>
            <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </div>
</aside>
                </div>
            </div>
        </div>
        <div class="banner-ad">
   <!-- footer -->
    <ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-7253926757222509"
    data-ad-slot="5729050190"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
<footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo-n"></a>
                </h1>
                <p>&copy;
                    2021
                    Jon Gallant
                </p>
                <p>Disclaimer: The opinions expressed herein are my own personal opinions and do not represent my
                    employer’s view in any way. This post may contain affiliate links. If you use these links to buy something I may earn a commission.</p>
            </div>

        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'jongallant';
    
    
    var disqus_url = 'https://blog.jongallant.com/2012/10/clickatell-sms-small-business-api-part2/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>



    
        
<script src="/libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-video.min.js"></script>

    


<!-- Custom Scripts -->

<script src="/js/main.js"></script>


    </div>
</body>

</html>