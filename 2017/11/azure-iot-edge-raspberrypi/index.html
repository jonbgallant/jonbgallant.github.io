<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    
    <title>
        
        Azure IoT Edge on Raspberry Pi |
        
        Jon Gallant
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="azure,iot,azureiotedge,raspberrypi" />
    
    <meta name="description" content="Azure IoT Edge Public Preview was just announced at Microsoft Connect.
Here’s how to get it running on Raspberry Pi with Raspbian Stretch or Stretch Lite. Raspbian Jessie should work as well, but I h">
<meta property="og:type" content="article">
<meta property="og:title" content="Azure IoT Edge on Raspberry Pi">
<meta property="og:url" content="https://blog.jongallant.com/2017/11/azure-iot-edge-raspberrypi/index.html">
<meta property="og:site_name" content="Jon Gallant">
<meta property="og:description" content="Azure IoT Edge Public Preview was just announced at Microsoft Connect.
Here’s how to get it running on Raspberry Pi with Raspbian Stretch or Stretch Lite. Raspbian Jessie should work as well, but I h">
<meta property="og:image" content="https://blog.jongallant.com/2017/11/azure-iot-edge-raspberrypi/000338.png">
<meta property="og:updated_time" content="2018-09-20T19:34:39.619Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Azure IoT Edge on Raspberry Pi">
<meta name="twitter:description" content="Azure IoT Edge Public Preview was just announced at Microsoft Connect.
Here’s how to get it running on Raspberry Pi with Raspbian Stretch or Stretch Lite. Raspbian Jessie should work as well, but I h">
<meta name="twitter:image" content="https://blog.jongallant.com/2017/11/azure-iot-edge-raspberrypi/000338.png">
    

    
    <link rel="alternate" href="http://feeds.feedburner.com/jongallant" title="Jon Gallant" type="application/atom+xml" />
    

    
    <link rel="icon" href="/favicon.ico" />
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.0.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <script type="text/javascript">
    (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-1148981-8', 'auto');
    ga('send', 'pageview');

</script>
    
    

</head>

    <body>
        <div id="wrap">
            <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">tech.leadership.music.coffee</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Leadership/">Leadership</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Leadership/Career-Model/">Career Model</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Leadership/Proactive-Mentorship/">Proactive Mentorship</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Leadership/Productivity/">Productivity</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Leadership/Review-Model/">Review Model</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Leadership/Work-Life-Balance/">Work:Life Balance</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Musings/">Musings</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Reviews/">Reviews</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/">Tech</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/3D-Printing/">3D Printing</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Announcements/">Announcements</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Azure/">Azure</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Bugs/">Bugs</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Career/">Career</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Conferences/">Conferences</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/IoT/">IoT</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Jobs/">Jobs</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Microsoft/">Microsoft</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Power-BI/">Power BI</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Reviews/">Reviews</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Tips/">Tips</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Tutorial/">Tutorial</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/category/Tech/Tutorials/">Tutorials</a></li></ul></li></ul>
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/archives/">Archive</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/contact/">Contact</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
                <div class="container">
                    <div class="main-body container-inner">
                        <div class="main-body-inner">
                            <section id="main">
                                
                                    <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/category/Tech/">Tech</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/category/Tech/Azure/">Azure</a>
    </h1>
</div>

                                        
                                            <div class="main-body-content">
                                                <div class="banner-ad">
                                                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                                                    <!-- banner -->
                                                    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7253926757222509" data-ad-slot="8838481977" data-ad-format="auto"></ins>
                                                    <script>
                                                        (adsbygoogle = window.adsbygoogle || []).push({});
                                                    </script>
                                                </div>
                                                <article id="post-azure-iot-edge-raspberrypi" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Azure IoT Edge on Raspberry Pi
        </h1>
    

            </header>
        
        
            <div class="article-subtitle">
                
<a href="/2017/11/azure-iot-edge-raspberrypi/" class="article-date">
    <time datetime="2017-11-16T12:00:00.000Z" itemprop="datePublished">2017-11-16</time>
</a>

                
    <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/azure/">azure</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/azureiotedge/">azureiotedge</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iot/">iot</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/raspberrypi/">raspberrypi</a></li></ul>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p><img src="000338.png" alt=""></p>
<p><a href="https://azure.microsoft.com/en-us/services/iot-edge/" target="_blank" rel="external">Azure IoT Edge Public Preview</a> was just announced at Microsoft Connect.</p>
<p>Here’s how to get it running on Raspberry Pi with Raspbian Stretch or Stretch Lite. Raspbian Jessie should work as well, but I haven’t tested it yet. Azure IoT Edge does not run on Raspberry Pi with Windows 10 IoT Core, you must use an x64 based board such as the MinnowBoard.  Windows 10 IoT Core Instructions can be found <a href="https://docs.microsoft.com/en-us/azure/iot-edge/how-to-install-iot-core" target="_blank" rel="external">here</a>.</p>
<h2 id="raspberry-pi-setup"><a class="header-anchor" href="#raspberry-pi-setup"></a>Raspberry Pi Setup</h2>
<p>1. <a href="/raspberrypi-setup"><strong>Setup Raspberry Pi</strong></a> - Follow <a href="/raspberrypi-setup">these instructions</a> to get your Raspberry Pi setup for general Pi dev.</p>
<blockquote>
<p>Make sure you change the Pi’s hostname so you don’t have a network naming conflict.</p>
</blockquote>
<p>2. <strong>Install Python &amp;&amp; pip</strong> - The Azure IoT Edge Runtime is a Python pip, so Python and pip are required on your edge device.</p>
<p>Raspbian comes with Python 2.7, but run the following to make sure you have it installed.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line">python --version</div></pre></td></tr></table></figure>
<p>It should output <code>Python 2.7.13</code>.  Python 3 will also work.</p>
<p>Raspbian Full also comes with pip 9.0.1, but run the following to make sure you have it installed.  Raspbian Lite does not come with pip, so skip to the install command below to install it.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line">pip --version</div></pre></td></tr></table></figure>
<p>It should output <code>pip 9.0.1 from /usr/lib/python2.7/dist-packages (python 2.7)</code>.</p>
<p>If you do not have either of those, then you can install with the following command:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line">sudo apt install python-pip -y</div></pre></td></tr></table></figure>
<p>3. <strong>Upgrade Setup Tools</strong><br>
You will find the Azure IoT Edge Runtime on PyPI <a href="https://pypi.python.org/pypi/azure-iot-edge-runtime-ctl" target="_blank" rel="external">here</a>, which has the Raspbian specific steps, which I’ve included here as well.  I’ve asked the team to include these steps in the <a href="https://docs.microsoft.com/en-us/azure/iot-edge/tutorial-simulate-device-linux" target="_blank" rel="external">Linux setup tutorial guide</a>. This issue is being tracked on GitHub <a href="https://github.com/Azure/iot-edge/issues/419" target="_blank" rel="external">here</a>.</p>
<p>Open a Terminal and run the following:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo pip install --upgrade setuptools pip</div><div class="line">sudo apt install python2.7-dev libffi-dev libssl-dev -y</div></pre></td></tr></table></figure>
<p>3. <a href="/raspberrypi-docker"><strong>Install Docker</strong></a> - The Azure IoT Edge Runtime runs as a container and each module is a container, so Docker is required.</p>
<h2 id="azure-iot-and-azure-iot-edge-setup"><a class="header-anchor" href="#azure-iot-and-azure-iot-edge-setup"></a>Azure IoT and Azure IoT Edge Setup</h2>
<p>Now that you have your Raspberry Pi all setup, you can now follow the instructions on the official Azure IoT Edge docs site: <a href="https://docs.microsoft.com/en-us/azure/iot-edge/tutorial-simulate-device-Linux" target="_blank" rel="external"><strong>Deploy Azure IoT Edge on a simulated device in Linux</strong></a></p>
<p>When you’re all set up and running, you can use <a href="https://conemu.github.io/" target="_blank" rel="external">ConEmu</a> to see all the logs flowing through in a nice paned layout.</p>
<p><img src="console.png" alt=""></p>
<h2 id="troubleshooting"><a class="header-anchor" href="#troubleshooting"></a>Troubleshooting</h2>
<p>1. <strong>Upgrade Setup Tools</strong></p>
<p>If you see any of the following errors, then please run the <strong>Upgrade Setup Tools</strong> step above.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">Failed cleaning build dir <span class="keyword">for</span> cryptography</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">Failed building wheel <span class="keyword">for</span> cffi</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line"> c/_cffi_backend.c:15:17: fatal error: ffi.h: No such file or directory</div><div class="line">     <span class="comment">#include &lt;ffi.h&gt;</span></div><div class="line">                     ^</div><div class="line">    compilation terminated.</div><div class="line">    error: <span class="built_in">command</span> <span class="string">'arm-linux-gnueabihf-gcc'</span> failed with <span class="built_in">exit</span> status 1</div><div class="line"></div><div class="line">    ----------------------------------------</div><div class="line">Command <span class="string">"/usr/bin/python -u -c "</span>import setuptools, tokenize;__file__=<span class="string">'/tmp/pip-build-14Rowp/cffi/setup.py'</span>;f=getattr(tokenize, <span class="string">'open'</span>, open)(__file__);code=f.read().replace(<span class="string">'\r\n'</span>, <span class="string">'\n'</span>);f.close();<span class="built_in">exec</span>(compile(code, __file__, <span class="string">'exec'</span>))<span class="string">" install --record /tmp/pip-kaIjHU-record/install-record.txt --single-version-externally-managed --compile"</span> failed with error code 1 <span class="keyword">in</span> /tmp/pip-build-14Rowp/cffi/</div></pre></td></tr></table></figure>
<p>2. <strong>RocksDB Issue</strong></p>
<p>You will see the following error when you run Azure IoT Edge on Pi.  It is a known issue and being tracked on GitHub here: <a href="https://github.com/Azure/iot-edge/issues/417" target="_blank" rel="external">https://github.com/Azure/iot-edge/issues/417</a>. The result is that you won’t have store-and-forward capabilities (doesn’t persist messages to disk) on Raspberry Pi. The Azure IoT Edge team is working on a fix.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">2017-11-16 19:03:53 [ERR] - Error creating RocksDB store. Falling back to <span class="keyword">in</span>-memory store.</div><div class="line">System.TypeInitializationException: The <span class="built_in">type</span> initializer <span class="keyword">for</span> <span class="string">'Microsoft.Azure.Devices.Edge.Storage.RocksDb.ColumnFamilyStorageRocksDbWrapper'</span> threw an exception. ---&gt; System.TypeInitializationException: The <span class="built_in">type</span> initializer <span class="keyword">for</span> <span class="string">'RocksDbSharp.Native'</span> threw an exception. ---&gt; NativeImport.NativeLoadException: Unable to locate rocksdb native library, either install it, or use RocksDbNative nuget package</div><div class="line">Searched:</div><div class="line">/app/native/arm/librocksdb-5.4.6.so: (DllNotFoundException) Unable to load DLL <span class="string">'libdl'</span>: The specified module or one of its dependencies could not be found.</div><div class="line"> (Exception from HRESULT: 0x8007007E)</div><div class="line">   at NativeImport.Importers.Import[T](INativeLibImporter importer, String libName, String version, Boolean suppressUnload)</div><div class="line">   at NativeImport.Auto.Import[T](String name, String version, Boolean suppressUnload)</div><div class="line">   at RocksDbSharp.Native..cctor()</div><div class="line">   --- End of inner exception stack trace ---</div><div class="line">   at RocksDbSharp.OptionsHandle..ctor()</div><div class="line">   at RocksDbSharp.DbOptions..ctor()</div><div class="line">   at Microsoft.Azure.Devices.Edge.Storage.RocksDb.ColumnFamilyStorageRocksDbWrapper..cctor() <span class="keyword">in</span> /opt/vsts/work/1/s/edge-util/src/Microsoft.Azure.Devices.Edge.Storage.RocksDb/ColumnFamilyStorageRocksDbWrapper.cs:line 24</div><div class="line">   --- End of inner exception stack trace ---</div><div class="line">   at Microsoft.Azure.Devices.Edge.Storage.RocksDb.ColumnFamilyStorageRocksDbWrapper.Create(String path, IEnumerable`1 partitionsList) <span class="keyword">in</span> /opt/vsts/work/1/s/edge-util/src/Microsoft.Azure.Devices.Edge.Storage.RocksDb/ColumnFamilyStorageRocksDbWrapper.cs:line 48</div><div class="line">   at Microsoft.Azure.Devices.Edge.Storage.RocksDb.DbStoreProvider.Create(String path, IEnumerable`1 partitionsList) <span class="keyword">in</span> /opt/vsts/work/1/s/edge-util/src/Microsoft.Azure.Devices.Edge.Storage.RocksDb/DbStoreProvider.cs:line 44</div><div class="line">   at Microsoft.Azure.Devices.Edge.Hub.Service.Modules.RoutingModule.&lt;Load&gt;b__11_18(IComponentContext c) <span class="keyword">in</span> /opt/vsts/work/1/s/edge-hub/src/Microsoft.Azure.Devices.Edge.Hub.Service/modules/RoutingModule.cs:line 231</div></pre></td></tr></table></figure>
<p>3. <strong>KeyNotFoundException</strong></p>
<p>If you see the following error and you aren’t receiving messages, then stop the runtime, rerun setup and restart it.  Instructions for doing so can be found here.  This issue is being tracked on GitHub here: <a href="https://github.com/Azure/iot-edge/issues/418" target="_blank" rel="external">https://github.com/Azure/iot-edge/issues/418</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">2017-11-16 19:32:18 [INF] - Updating reported properties <span class="keyword">for</span> jongpi5/<span class="variable">$edgeHub</span> <span class="keyword">in</span> cloud failed with error System.Collections.Generic.KeyNotFoundException The given key was not present <span class="keyword">in</span> the dictionary.</div></pre></td></tr></table></figure>
<p>4. <strong>TypeError: unsupported operand type(s) for -=: ‘Retry’ and ‘int’</strong></p>
<p>If you see the following error when installing the runtime, then restart the runtime.  I only saw this once and I’m not sure what caused this issue, but I have reported it on GitHub here: <a href="https://github.com/Azure/iot-edge/issues/420" target="_blank" rel="external">https://github.com/Azure/iot-edge/issues/420</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">sudo pip install -U azure-iot-edge-runtime-ctl</div><div class="line"></div><div class="line">Collecting cffi&gt;=1.7 (from cryptography&gt;=1.3.4; extra == <span class="string">"tls"</span>-&gt;docker[tls]==2.6-&gt;azure-iot-edge-runtime-ctl)</div><div class="line">Exception:</div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"/usr/lib/python2.7/dist-packages/pip/basecommand.py"</span>, line 215, <span class="keyword">in</span> main</div><div class="line">    status = self.run(options, args)</div><div class="line">  File <span class="string">"/usr/lib/python2.7/dist-packages/pip/commands/install.py"</span>, line 353, <span class="keyword">in</span> run</div><div class="line">    wb.build(autobuilding=True)</div><div class="line">  File <span class="string">"/usr/lib/python2.7/dist-packages/pip/wheel.py"</span>, line 749, <span class="keyword">in</span> build</div><div class="line">    self.requirement_set.prepare_files(self.finder)</div><div class="line">  File <span class="string">"/usr/lib/python2.7/dist-packages/pip/req/req_set.py"</span>, line 380, <span class="keyword">in</span> prepare_files</div><div class="line">    ignore_dependencies=self.ignore_dependencies))</div><div class="line">  File <span class="string">"/usr/lib/python2.7/dist-packages/pip/req/req_set.py"</span>, line 554, <span class="keyword">in</span> _prepare_file</div><div class="line">    require_hashes</div><div class="line">  File <span class="string">"/usr/lib/python2.7/dist-packages/pip/req/req_install.py"</span>, line 278, <span class="keyword">in</span> populate_link</div><div class="line">    self.link = finder.find_requirement(self, upgrade)</div><div class="line">  File <span class="string">"/usr/lib/python2.7/dist-packages/pip/index.py"</span>, line 465, <span class="keyword">in</span> find_requirement</div><div class="line">    all_candidates = self.find_all_candidates(req.name)</div><div class="line">  File <span class="string">"/usr/lib/python2.7/dist-packages/pip/index.py"</span>, line 423, <span class="keyword">in</span> find_all_candidates</div><div class="line">    <span class="keyword">for</span> page <span class="keyword">in</span> self._get_pages(url_locations, project_name):</div><div class="line">  File <span class="string">"/usr/lib/python2.7/dist-packages/pip/index.py"</span>, line 568, <span class="keyword">in</span> _get_pages</div><div class="line">    page = self._get_page(location)</div><div class="line">  File <span class="string">"/usr/lib/python2.7/dist-packages/pip/index.py"</span>, line 683, <span class="keyword">in</span> _get_page</div><div class="line">    <span class="built_in">return</span> HTMLPage.get_page(link, session=self.session)</div><div class="line">  File <span class="string">"/usr/lib/python2.7/dist-packages/pip/index.py"</span>, line 792, <span class="keyword">in</span> get_page</div><div class="line">    <span class="string">"Cache-Control"</span>: <span class="string">"max-age=600"</span>,</div><div class="line">  File <span class="string">"/usr/share/python-wheels/requests-2.12.4-py2.py3-none-any.whl/requests/sessions.py"</span>, line 501, <span class="keyword">in</span> get</div><div class="line">    <span class="built_in">return</span> self.request(<span class="string">'GET'</span>, url, **kwargs)</div><div class="line">  File <span class="string">"/usr/lib/python2.7/dist-packages/pip/download.py"</span>, line 386, <span class="keyword">in</span> request</div><div class="line">    <span class="built_in">return</span> super(PipSession, self).request(method, url, *args, **kwargs)</div><div class="line">  File <span class="string">"/usr/share/python-wheels/requests-2.12.4-py2.py3-none-any.whl/requests/sessions.py"</span>, line 488, <span class="keyword">in</span> request</div><div class="line">    resp = self.send(prep, **send_kwargs)</div><div class="line">  File <span class="string">"/usr/share/python-wheels/requests-2.12.4-py2.py3-none-any.whl/requests/sessions.py"</span>, line 609, <span class="keyword">in</span> send</div><div class="line">    r = adapter.send(request, **kwargs)</div><div class="line">  File <span class="string">"/usr/share/python-wheels/CacheControl-0.11.7-py2.py3-none-any.whl/cachecontrol/adapter.py"</span>, line 47, <span class="keyword">in</span> send</div><div class="line">    resp = super(CacheControlAdapter, self).send(request, **kw)</div><div class="line">  File <span class="string">"/usr/share/python-wheels/requests-2.12.4-py2.py3-none-any.whl/requests/adapters.py"</span>, line 423, <span class="keyword">in</span> send</div><div class="line">    timeout=timeout</div><div class="line">  File <span class="string">"/usr/share/python-wheels/urllib3-1.19.1-py2.py3-none-any.whl/urllib3/connectionpool.py"</span>, line 643, <span class="keyword">in</span> urlopen</div><div class="line">    _stacktrace=sys.exc_info()[2])</div><div class="line">  File <span class="string">"/usr/share/python-wheels/urllib3-1.19.1-py2.py3-none-any.whl/urllib3/util/retry.py"</span>, line 315, <span class="keyword">in</span> increment</div><div class="line">    total -= 1</div><div class="line">TypeError: unsupported operand <span class="built_in">type</span>(s) <span class="keyword">for</span> -=: <span class="string">'Retry'</span> and <span class="string">'int'</span></div></pre></td></tr></table></figure>
        </div>
        <footer>
        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>


                                            </div>
                                            <div style="width:64%;margin:auto;" data-type="ad" data-publisher="lqm.jongallant.site" data-format="728x90" data-zone="ros"
                                                data-tags="iot%2cangularjs%2cjavascript%2cnode%2cazureiot%2cazure%2cpowerbi%2cseattle%2cdeveloper%2cmicrosoft%2ctutorials"></div>
                            </section>
                            <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar">
        <i class="toggle icon"></i>
    </a>
    <div class="sidebar-top">

        <ul class="social-links">
            
                
                    <li>
                        <a class="social-tooltip" title="twitter" href="http://twitter.com/jongallant" target="_blank">
                            <i class="icon fa fa-twitter"></i>
                        </a>
                    </li>
                    
                        
                
                    <li>
                        <a class="social-tooltip" title="github" href="https://github.com/jongio" target="_blank">
                            <i class="icon fa fa-github"></i>
                        </a>
                    </li>
                    
                        
                
                    <li>
                        <a class="social-tooltip" title="rss" href="http://feeds.feedburner.com/jongallant" target="_blank">
                            <i class="icon fa fa-rss"></i>
                        </a>
                    </li>
                    
                        
                
                    <li>
                        <a class="social-tooltip" title="linkedin" href="http://www.linkedin.com/in/jongallant" target="_blank">
                            <i class="icon fa fa-linkedin"></i>
                        </a>
                    </li>
                    
                        
                
                    <li>
                        <a class="social-tooltip" title="youtube" href="https://www.youtube.com/jongallant" target="_blank">
                            <i class="icon fa fa-youtube"></i>
                        </a>
                    </li>
                    
                        
        </ul>
    </div>
    
        
    <nav id="article-nav">
        
            <a href="/2017/11/raspberrypi-change-keyboard-layout/" id="article-nav-newer" class="article-nav-link-wrap">
                <strong class="article-nav-caption">
                    newer
                </strong>
                <p class="article-nav-title">
                    
                        How to Change Raspberry Pi Keyboard Layout
                            
                </p>
                <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>

            </a>
            
                
                    <a href="/2017/11/raspberrypi-expand-file-system/" id="article-nav-older" class="article-nav-link-wrap">
                        <strong class="article-nav-caption">
                            older
                        </strong>
                        <p class="article-nav-title">
                            How to Increase Disk Space Allocation on Raspberry Pi
                        </p>
                        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>

                    </a>
                    
    </nav>
    
            

                <div class="widgets-container">
                    
                        
                            <br/>
<div style="position:relative;height:0;padding-bottom:56.25%"><iframe src="https://www.youtube.com/embed/videoseries?list=PLiMIJTv6gK5_Zmdcmbo-kxAbpeGjSou9x&amp;showinfo=0?ecver=2" width="640" height="360" frameborder="0" gesture="media" allow="encrypted-media" style="position:absolute;width:100%;height:100%;left:0" allowfullscreen></iframe></div>
<br/>
                                
                            <a class="twitter-timeline" data-height="700" href="https://twitter.com/jongallant?ref_src=twsrc%5Etfw"></a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                                
                                <div style="width:88%;margin:auto;" data-type="ad" data-publisher="lqm.jongallant.site" data-format="300x250" data-zone="ros" data-tags="iot%2cangularjs%2cjavascript%2cnode%2cazureiot%2cazure%2cpowerbi%2cseattle%2cdeveloper%2cmicrosoft%2ctutorials"></div>

                                
                                    

                                        <div class="rail-ad">
                                            <!-- rail -->
                                            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7253926757222509" data-ad-slot="7222147978" data-ad-format="auto"></ins>
                                            <script>
                                                (adsbygoogle = window.adsbygoogle || []).push({});
                                            </script>
                                        </div>
                </div>

</aside>
                        </div>
                    </div>
                </div>
                <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo-n"></a>
                </h1>
                <p>&copy; 2018 Jon Gallant</p>
                <p>Disclaimer: The opinions expressed herein are my own personal opinions and do not represent my employer’s view in any way.</p>
            </div>
            
        </div>
    </div>
</footer>
                    
    
    <script>
    var disqus_shortname = 'jongallant';
    
    
    var disqus_url = 'https://blog.jongallant.com/2017/11/azure-iot-edge-raspberrypi/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>



    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    


<!-- Custom Scripts -->
<script src="/js/main.js"></script>

        </div>

        <script type='text/javascript'>
            function _dmBootstrap(file) {
                var _dma = document.createElement('script');
                _dma.type = 'text/javascript';
                _dma.async = true;
                _dma.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + file;
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(_dma);
            }
            function _dmFollowup(file) { if (typeof DMAds === 'undefined') _dmBootstrap('cdn2.DeveloperMedia.com/a.min.js'); }
            (function () { _dmBootstrap('cdn1.DeveloperMedia.com/a.min.js'); setTimeout(_dmFollowup, 2000); })();
        </script>
    </body>

    </html>